# Environment Variables Template
# Copy this file to .env.local and fill in your values

# ============================================
# PLATFORM ADMINISTRATION
# ============================================
# Comma-separated list of email addresses that should be granted platform admin access
# These users will automatically become platform admins when they register
# Example: PLATFORM_ADMIN_EMAILS=admin@example.com,owner@example.com
PLATFORM_ADMIN_EMAILS=

# ============================================
# DATABASE
# ============================================
DATABASE_URL="postgresql://user:password@localhost:5432/transparency_dev"

# Direct (non-pooled) connection URL for migrations
# Vercel's Neon integration automatically provides DATABASE_URL_UNPOOLED
# For manual setup, use DIRECT_DATABASE_URL with non-pooler connection string
# DATABASE_URL_UNPOOLED="postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require"
# DIRECT_DATABASE_URL="postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require"

# For production with Neon:
# DATABASE_URL (pooled — used at runtime):
# DATABASE_URL="postgresql://user:password@ep-xxx-pooler.us-east-2.aws.neon.tech/neondb?sslmode=require"
# 
# DATABASE_URL_UNPOOLED (direct — used for migrations):
# Automatically provided by Vercel's Neon integration
# Manual setup: use connection string without "-pooler" in hostname

# ============================================
# AUTHENTICATION (Choose one)
# ============================================

# Option 1: Clerk (Recommended)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/login
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/register
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/profile
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/profile

# Option 2: Supabase Auth
# NEXT_PUBLIC_SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================
# PAYMENT PROCESSING (Stripe)
# ============================================
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe webhook endpoint (for local development):
# Use Stripe CLI: stripe listen --forward-to localhost:3000/api/webhooks/stripe

# ============================================
# FILE STORAGE (Cloudflare R2)
# ============================================
R2_ACCOUNT_ID=your_cloudflare_account_id
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_BUCKET_NAME=transparency-uploads
NEXT_PUBLIC_R2_PUBLIC_URL=https://pub-xxxxxxxxxxxxx.r2.dev

# Alternative: Supabase Storage
# NEXT_PUBLIC_SUPABASE_STORAGE_BUCKET=uploads

# ============================================
# EMAIL SERVICE (Optional - for now)
# ============================================
# Option 1: Resend (Recommended)
# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Option 2: SendGrid
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Option 3: AWS SES
# AWS_SES_REGION=us-east-1
# AWS_SES_ACCESS_KEY_ID=xxxxxxxxxxxxx
# AWS_SES_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# BANK SYNC (Future - Plaid)
# ============================================
# PLAID_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# PLAID_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# PLAID_ENV=sandbox  # sandbox, development, or production

# ============================================
# ACCOUNTING INTEGRATION (Future - QuickBooks)
# ============================================
# QUICKBOOKS_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# QUICKBOOKS_CLIENT_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# QUICKBOOKS_REDIRECT_URI=https://your-app.com/api/quickbooks/callback

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME="Financial Transparency Platform"

# For production:
# NEXT_PUBLIC_APP_URL=https://transparency-platform.com

# ============================================
# ANALYTICS (Optional)
# ============================================
# Google Analytics
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# PostHog (for product analytics)
# NEXT_PUBLIC_POSTHOG_KEY=phc_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ============================================
# ERROR TRACKING (Optional)
# ============================================
# Sentry
# NEXT_PUBLIC_SENTRY_DSN=https://xxxxxxxxxxxxx@xxxxx.ingest.sentry.io/xxxxx

# ============================================
# FEATURE FLAGS (Optional)
# ============================================
# Enable/disable features for testing
ENABLE_BANK_SYNC=false
ENABLE_QUICKBOOKS=false
ENABLE_RECURRING_DONATIONS=false
ENABLE_MOBILE_APP=false

# ============================================
# SECURITY
# ============================================
# JWT Secret (generate with: openssl rand -base64 32)
JWT_SECRET=your_long_random_secret_here_min_32_chars

# Encryption key for sensitive data (generate with: openssl rand -base64 32)
ENCRYPTION_KEY=your_encryption_key_here_min_32_chars

# ============================================
# RATE LIMITING (Optional)
# ============================================
# Redis URL for rate limiting (if using Upstash or Redis Cloud)
# REDIS_URL=redis://default:xxxxxxxxxxxxx@redis-xxxxx.upstash.io:33419

# ============================================
# DEVELOPMENT SETTINGS
# ============================================
# Set to 'development' for detailed logging
NODE_ENV=development

# Skip email verification in development
SKIP_EMAIL_VERIFICATION=true

# Disable rate limiting in development
DISABLE_RATE_LIMITING=true

# ============================================
# TESTING
# ============================================
# Test database (for integration tests)
# TEST_DATABASE_URL="postgresql://user:password@localhost:5432/transparency_test"

# ============================================
# NOTES
# ============================================
# 1. Never commit .env.local to git (it's in .gitignore by default)
# 2. Use different values for development, staging, and production
# 3. Rotate secrets regularly (especially in production)
# 4. Use environment-specific keys (test keys for dev, live keys for prod)
# 5. For Vercel deployment, add these in the Vercel dashboard
# 6. For Railway/Fly.io, use their CLI to set environment variables
